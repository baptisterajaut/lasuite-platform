secretSeed: {{ .Values.secretSeed | quote }}
domain: {{ .Values.domain | quote }}

# Build appsEnabled list from apps.*.enabled for templates that use range
appsEnabled:
{{- if .Values.apps.docs.enabled }}
  - docs
{{- end }}
{{- if .Values.apps.meet.enabled }}
  - meet
{{- end }}
{{- if .Values.apps.drive.enabled }}
  - drive
{{- end }}
{{- if .Values.apps.people.enabled }}
  - people
{{- end }}
{{- if .Values.apps.conversations.enabled }}
  - conversations
{{- end }}
{{- if .Values.apps.find.enabled }}
  - find
{{- end }}

apps:
  docs:
    enabled: {{ .Values.apps.docs.enabled }}
  meet:
    enabled: {{ .Values.apps.meet.enabled }}
  drive:
    enabled: {{ .Values.apps.drive.enabled }}
  people:
    enabled: {{ .Values.apps.people.enabled }}
  conversations:
    enabled: {{ .Values.apps.conversations.enabled }}
  find:
    enabled: {{ .Values.apps.find.enabled }}

keycloak:
  enabled: {{ .Values.keycloak.enabled }}
  realm: {{ .Values.keycloak.realm | quote }}
  externalUrl: {{ .Values.keycloak.externalUrl | quote }}
  backendUrl: {{ .Values.keycloak.backendUrl | quote }}
  testUser:
    enabled: {{ .Values.keycloak.testUser.enabled | default false }}
    username: {{ .Values.keycloak.testUser.username | default "user" | quote }}
    email: {{ .Values.keycloak.testUser.email | default "user@example.com" | quote }}
    password: {{ .Values.keycloak.testUser.password | default "password" | quote }}

postgres:
  host: {{ .Values.postgres.host | quote }}
  port: {{ .Values.postgres.port }}

redis:
  host: {{ .Values.redis.host | quote }}
  port: {{ .Values.redis.port }}

s3:
  endpoint: {{ .Values.s3.endpoint | quote }}

opensearch:
  host: {{ .Values.opensearch.host | quote }}
  port: {{ .Values.opensearch.port }}

tls:
  issuer: {{ .Values.tls.issuer | quote }}
{{- if eq .Values.tls.issuer "letsencrypt" }}
  email: {{ .Values.adminEmail | quote }}
{{- end }}

ingress:
  className: {{ .Values.ingress.className }}
